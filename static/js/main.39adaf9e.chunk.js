(this["webpackJsonpcodica-test-task"]=this["webpackJsonpcodica-test-task"]||[]).push([[0],{57:function(e,t,c){},58:function(e,t,c){},83:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(16),r=c.n(i),s=(c(57),c(3)),o=(c(58),c(12)),j=c(98),d=c(100),l=c(101),b=c(104),h=c(17),u=c(18),O=c(31),m=c(20),p=[],x=Object(m.b)({name:"cities",initialState:p,reducers:{addCity:function(e,t){return localStorage.setItem("action.payload",t.payload),[].concat(Object(O.a)(e),[t.payload])},removeCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;return localStorage.removeItem(t.payload),e.filter((function(e){return e!==t.payload}))}}}),f=x.actions,g=f.addCity,v=f.removeCity,y=x.reducer,w=Object(m.b)({name:"weather",initialState:[],reducers:{getWeather:function(e,t){return[].concat(Object(O.a)(e),[t.payload])}}}),C=w.actions.getWeather,N=w.reducer,S=c(28),k=c.n(S),E=c(2),I=Object(j.a)((function(){return{cityCard:{padding:"10px"}}})),D=function(){var e=I().cityCard,t=Object(n.useState)({}),c=Object(o.a)(t,2),a=c[0],i=c[1],r=Object(u.c)((function(e){return e.cities})),s=Object(u.c)((function(e){return e.weather})),j=Object(u.b)();return Object(n.useEffect)((function(){k.a.get("".concat("https://api.openweathermap.org/data/2.5/weather?appid=56d61b45593dee9597decc258d63ce78&q=").concat(r)).then((function(e){C(e.data),i(e.data)}))}),[r]),Object(n.useEffect)((function(){console.log("city: ",r),console.log("weather: ",a),console.log("weatherSlice: ",s)}),[r,a,s]),Object(E.jsx)("div",{className:"citiesList",children:r.map((function(t,c){return Object(E.jsx)("div",{className:"itemCity",children:Object(E.jsxs)(d.a,{variant:"outlined",className:e,children:[Object(E.jsx)(l.a,{variant:"h3",component:"h3",children:t}),Object(E.jsxs)(b.a,{size:"small",children:[" ",Object(E.jsx)(h.b,{to:"cities/".concat(t),children:" More "})," "]}),Object(E.jsx)(b.a,{size:"small",onClick:function(){return j(v(t))},children:"  Delete"})]})},c)}))})},W=c(102),q=c(103),z=Object(j.a)((function(){return{header:{backgroundColor:"#fff",marginBottom:"20px"},logo:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80px",lineHeight:1.5}}})),B=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(u.b)(),r=z(),s=r.header,j=r.logo,d=Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:j,children:[Object(E.jsx)(h.c,{to:"/",children:Object(E.jsx)("img",{src:"https://www.codica.com/static/logo.3f55bcea.svg",alt:"logo"})}),Object(E.jsxs)("form",{action:"submit",onSubmit:function(e){e.preventDefault(),i(g(c)),a("")},children:[Object(E.jsx)("label",{htmlFor:"text",children:" Name"}),Object(E.jsx)("input",{type:"text",value:c,placeholder:"Enter city name..",onChange:function(e){return a(e.target.value)}})]})]})});return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(q.a,{className:s,children:Object(E.jsx)(W.a,{children:d})})})};var F=function(){return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(B,{}),Object(E.jsx)(D,{}),Object(E.jsx)(s.a,{})]})},H=function(e){e.city;var t,c=Object(n.useState)({}),a=Object(o.a)(c,2),i=a[0],r=a[1],j=Object(s.h)();return console.log(j),Object(n.useEffect)((function(){k.a.get("".concat("https://api.openweathermap.org/data/2.5/weather?appid=56d61b45593dee9597decc258d63ce78&q=").concat(j.cityName)).then((function(e){return r(e.data)}))}),[j]),i&&0!==i.length?Object(E.jsxs)("div",{className:"city",children:[Object(E.jsx)(B,{}),Object(E.jsxs)("div",{className:"cityItem",children:[Object(E.jsxs)(l.a,{variant:"h3",component:"h3",children:[i.name," ",null===i||void 0===i||null===(t=i.sys)||void 0===t?void 0:t.country]}),Object(E.jsxs)(l.a,{variant:"h5",component:"h5",children:["Temp: ",i.main.temp]}),Object(E.jsxs)(l.a,{variant:"h5",component:"h5",children:["Deg:    ",i.wind.deg]}),Object(E.jsxs)(l.a,{variant:"h5",component:"h5",children:["Speed: ",i.wind.speed]})]})]}):Object(E.jsx)("p",{children:"Loading..."})},J=Object(m.a)({reducer:{cities:y,fetchWeather:N}});r.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(u.a,{store:J,children:Object(E.jsx)(h.a,{children:Object(E.jsxs)(s.d,{children:[Object(E.jsx)(s.b,{exact:!0,path:"/",element:Object(E.jsx)(F,{})}),Object(E.jsx)(s.b,{path:"/cities",element:Object(E.jsx)(D,{})}),Object(E.jsx)(s.b,{path:"cities/:cityName",element:Object(E.jsx)(H,{})}),Object(E.jsx)(s.b,{path:"*",element:Object(E.jsx)("main",{style:{padding:"1rem"},children:Object(E.jsx)("p",{children:"There's nothing here!"})})})]})})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.39adaf9e.chunk.js.map